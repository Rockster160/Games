require "/Users/rocco/code/games/tools"
require "/Users/rocco/code/games/dictionary.rb"

counts = [
  [:a, [5810, [ 804, 1820, 1001, 1152, 1033]]],
  [:e, [4905, [ 248, 1235,  646, 1356, 1420]]],
  [:r, [3559, [ 446,  805,  989,  591,  728]]],
  [:i, [3316, [ 182,  984,  846,  956,  348]]],
  [:o, [3316, [ 213, 1351,  775,  582,  395]]],
  [:s, [2887, [1307,  113,  417,  529,  521]]],
  [:l, [2797, [ 404,  601,  640,  563,  589]]],
  [:n, [2784, [ 264,  391,  783,  619,  727]]],
  [:t, [2736, [ 681,  245,  519,  557,  734]]],
  [:u, [2303, [ 275,  881,  544,  509,   94]]],
  [:y, [1859, [  90,  160,  145,   95, 1369]]],
  [:c, [1839, [ 750,  173,  292,  436,  188]]],
  [:d, [1680, [ 461,   91,  363,  307,  458]]],
  [:m, [1634, [ 536,  153,  409,  303,  233]]],
  [:h, [1589, [ 318,  546,  138,  174,  413]]],
  [:p, [1481, [ 601,  200,  268,  238,  174]]],
  [:b, [1379, [ 736,   65,  315,  188,   75]]],
  [:g, [1295, [ 464,   63,  305,  327,  136]]],
  [:k, [1105, [ 285,   65,  184,  243,  328]]],
  [:w, [ 747, [ 298,  135,  162,   92,   60]]],
  [:f, [ 737, [ 401,   23,  111,  122,   80]]],
  [:v, [ 544, [ 164,   46,  174,  154,    6]]],
  [:z, [ 308, [  66,   27,   84,   99,   32]]],
  [:j, [ 248, [ 163,   13,   40,   31,    1]]],
  [:x, [ 239, [  22,   39,   67,   15,   96]]],
  [:q, [  98, [  60,   14,   22,    1,    1]]],
]
# sarey

def count_letters
  Dictionary.words.each_with_object(Hash.new { |h,k| h[k] = [0, [0, 0, 0, 0, 0]] }) { |word, counts|
    next unless word.length == 5

    word.each_char.with_index { |char, idx|
      counts[char.to_sym][0] += 1
      counts[char.to_sym][1][idx] += 1
    }
  }.sort_by { |char, counts| [-counts[0], char] }
end

j = count_letters
# require "pry-rails"; binding.pry
